# NanoparticleRadiation

This example shows you how to simulate the effect of nanoparticle in the cell population using Geant4.

This page only details the nanoparticle part but the example uses both a homogeneous source and a nanoparticle one.

To model nanoparticle, a simulation must be done beforehand to collect the secondary electrons and the energy spectrum. See this guide to do it TODO.

Once the energy spectrum is available, the user can choose :
- the PhysicsList: emstandard; emstandard_opt1; emstandard_opt2; emstandard_opt3; emstandard_opt4; emlivermore; empenelope; emDNAphysics;
- the number of nanoparticle to distribute;
- the distribution of the nanoparticle in the spheroid;
- the position inside a cell;
- the secondary particle generated by the nanoparticle `PrimaryGenerator`;
- the secondary energy spectrum.

## Usage

The executable has 2 options:
- `-m filename`: path to Geant4 macro file;
- `-t`: number of thread to use (only available if Geant4 has been built with multihread support).

Example without Geant4 multithread:
```bash
./complexRadiation -m data/run.mac
```

Example with Geant4 multithread (using hadd root executable to merge outputs):
```bash
./complexRadiation -m data/run.mac -t 4
hadd result.root output_t{0..3}.root
```
